# T-Brain Malware Detection

Scripts developed by [Yi Hsiao](http://github.com/hsiaoyi0504) abd [Ping-Han Hsieh](https://github.com/dn070017) in [T-Brain file agnostic malware analysis](https://tbrain.trendmicro.com.tw/Competitions/Details/1)

- Dependencies:
  - python 3
    - scikit-learn 0.19.1
	- xgboost 0.7.post3
  - included in `requirements.txt`

- Files:
  - `device_product_count.py`: used to calculate the number of files detected by certain device or product.
  - `generate_features.py`: used to generate the feature table.
  - `model.py`: main entry of the models

- Usage:
  - `python device_product_count.py`
  - `python generate_features.py`
  - `python model.py`

- Features:

| col | name | description |
|-----|------|-------------|
|  0  | file | file identifier |
|  1  | # of instance | how many times this file appear in all the logs |
|  2  | # of devices | how many devices were reported while detecting this file |
|  3  | # of products | how many products detected this file |
|  4  | precision i device i | precision (instances) of device (instances) |
|  5  | precision f device i | precision (files) of device (instances) |
|  6  | precision i device f | precision (instances) of device (files) |
|  7  | precision f device f | precision (files) of device (files) |
|  8  | precision i product i | precision (instances) of device (instances) |
|  9  | precision f product i | precision (files) of device (instances) |
|  10  | precision i product f | precision (instances) of device (files) |
|  11  | precision f product f | precision (files) of device (files) |
|  12  | mean time | the mean of reported time for this file |
|  13-104  | appearance in log | how many times this file was reported in specific log |
|  105-132  | appearance in product | how many times this file was reported by specific product |
|  133-156  | appearance in hour | how many times this file was reported in specific hour |
|  157 | label | label for training data, dummy probability for testing data |
